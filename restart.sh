#!/bin/bash

# å¿«é€Ÿé‡å¯è„šæœ¬ï¼ˆä¸é‡æ–°æ„å»ºï¼‰
# ä½¿ç”¨æ–¹æ³•: ./restart.sh

echo "=========================================="
echo "ç®¡ç†ç³»ç»Ÿ - å¿«é€Ÿé‡å¯"
echo "=========================================="

# æ£€æŸ¥Dockeræ˜¯å¦è¿è¡Œ
if ! docker info > /dev/null 2>&1; then
    echo "âŒ é”™è¯¯: Dockeræœªè¿è¡Œï¼Œè¯·å…ˆå¯åŠ¨Docker"
    exit 1
fi

echo "ğŸ›‘ åœæ­¢æœåŠ¡..."
docker-compose stop

echo "ğŸš€ å¯åŠ¨æœåŠ¡..."
docker-compose start

# ç­‰å¾…æœåŠ¡å¯åŠ¨
echo "â³ ç­‰å¾…æœåŠ¡å¯åŠ¨..."
sleep 5

echo ""
echo "ğŸ“Š æœåŠ¡çŠ¶æ€:"
docker-compose ps

echo ""
echo "=========================================="
echo "âœ… é‡å¯å®Œæˆï¼"
echo "=========================================="
echo "æŸ¥çœ‹æ—¥å¿—: docker-compose logs -f backend"
echo "=========================================="

